<div class="content-heading">
  <div>Marketors
    <small>ALL cases</small></div>
</div>
<div class="container-fluid">
  <a [routerLink]="['../newcase']" [routerLinkActive]="['active']"><i class="far fa-file-alt"></i> Enter Entry</a>
  <button class="btn mr-1 btn-link" type="button" (click)="getSelectedRows()" [disabled]="export"><i
      class="fas fa-print"></i> Export Selected Rows</button>
  <button class="btn mr-1 btn-outline-primary" type="button" (click)="open(content)" [disabled]="updatecase">Update
    Case</button>

  <ag-grid-angular #agGrid style="width: 100%; height: 700px;" id="myGrid" class="ag-theme-balham"
    [columnDefs]="columnDefs" [defaultColDef]="defaultColDef" [rowModelType]="rowModelType"
    [maxBlocksInCache]="maxBlocksInCache" [animateRows]="true" [floatingFilter]="true" [rowData]="rowData"
    [pagination]="true" [enableSorting]="true" [enableFilter]="true" [enableColResize]="true"
    [paginationAutoPageSize]="true" [suppressRowClickSelection]="true"
    (gridReady)="onGridReady($event)" [pivotPanelShow]="pivotPanelShow" [sideBar]="false" [enableRangeSelection]="true"
    (rowSelected)="onRowSelected($event)" [rowDragManaged]="true" rowSelection="multiple" [modules]="modules">
  </ag-grid-angular>
</div>

<!-- Modal -->
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Case update</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form role="form" #updateMarketerForm="ngForm" (ngSubmit)="updateMarketer(updateMarketerForm)" novalidate
      autocomplete="off">
      <div class="form-group">
        <label>Account Number</label>
        <input class="form-control" type="text" placeholder="accnumber" name="accnumber" id="accnumber"
          #accnumber="ngModel" [(ngModel)]="data.accnumber" [ngClass]="{ 'is-invalid': accnumber.errors }" readonly/>
      </div>
      <div class="form-group">
        <label>Service Provider</label>
        
        <select class="custom-select custom-select-sm" #serviceprovider="ngModel" [(ngModel)]="data.serviceprovider"
          name="serviceprovider" id="serviceprovider">
          <option selected="">Please Select</option>
          <option *ngFor="let s of sptypes" [value]="s.SPTITLE">{{s.SPTITLE}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="dateOfBirth">Date assigned</label>
        <div class="input-group">
          <input type="text" class="form-control" #dp="bsDatepicker" bsDatepicker name="dp-basic" [bsConfig]="bsConfig"
            id="dateassigned" #dateassigned="ngModel" [(ngModel)]="data.dateassigned" name="dateassigned">
          <div class="input-group-append">
            <button class="btn btn-outline-primary" (click)="dp.show()" [attr.aria-expanded]="dp.isOpen" type="button"><span><i class="far fa-calendar-alt"></i>
              </span></button>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label>Status</label>
        <select class="custom-select custom-select-sm" #newstatus="ngModel" [(ngModel)]="data.newstatus"
          name="newstatus">
          <option selected="">Select one</option>
          <option>unassigned</option>
          <option>Assigned Pending outcome</option>
          <option>Completed</option>
          <option>Cancelled</option>
        </select>
      </div>
      <button type="submit" class="btn btn-outline-dark" [disabled]="!updateMarketerForm.valid">Submit</button>
    </form>
  </div>
  <div class="modal-footer">

  </div>
</ng-template>